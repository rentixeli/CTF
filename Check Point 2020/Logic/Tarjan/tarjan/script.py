##########################
#                        #
#   written by kmkm133   #
#                        #
##########################

array = [[9459011, 9459014], [8834567, 8834570], [16484715, 16484718], [10536999, 10537002], [5360200, 5360202], [9219552, 9219554], [12180815, 12180822], [6840232, 6840234], [9045060, 9045061], [11177208, 11177209], [11759735, 11759737], [14370512, 14370514], [5040815, 10081638], [14104364, 14104365], [5298400, 5298401], [520991, 520993], [4762656, 4762657], [3424404, 3424406], [1955787, 15646330], [15455827, 15455830], [16176083, 16176085], [16746452, 16746453], [5806147, 1451538], [8531676, 8531678], [847235, 6777909], [13936711, 13936714], [4484468, 4484470], [1783775, 1783777], [1515704, 757854], [1362647, 1362650], [9927216, 9927217], [12178935, 12178938], [15606523, 15606526], [8906755, 8906758], [3688248, 3688249], [13860120, 13860121], [7669927, 7669929], [11053915, 11053917], [10777908, 2694478], [12786419, 3196605], [13042600, 13042602], [15378273, 7689137], [15287808, 15287810], [1187667, 1187670], [5977260, 5977261], [8324863, 8324866], [1255851, 10046834], [2811044, 2811046]]
f = open("tree.txt","r")
content = f.read()
list(content)
def calc_ancestor(x,y):
	ancX = 2**24
	ancY = 2**24-1
	while ancX != ancY:
		if x%2 == 1:
			x-=1
		else :
			x-=2
		if y%2 == 1:
			y-=1
		else :
			y-=2
		ancX = x/2
		ancY = y/2
		x = int(ancX)
		y = int(ancY)
	return int(ancX)
print(calc_ancestor(9459011,9459014))
string=""
for x in array:
	string+=content[calc_ancestor(x[0],x[1])]
print(string)

for x in array:
	if ((x[0]-x[1])<-20) or ((x[0]-x[1])>20):
		print(x) 
		print(array.index(x))
print(content[calc_ancestor(5040815,5040818)])
print(content[calc_ancestor(1955787,1955790)])
print(content[calc_ancestor(1451536,1451538)])
print(content[calc_ancestor(847235,847237)])
print(content[calc_ancestor(757851,757854)])
print(content[calc_ancestor(2694476,2694478)])
print(content[calc_ancestor(3196604,3196605)])
print(content[calc_ancestor(7689136,7689137)])
print(content[calc_ancestor(1255851,1255853)])
